هایپروایزر - HyperVisor

VMM : Virtual Machine Monitor


هایپروایزر دو نوع داره

تایپ یک یا bare metal
تایپ دو یا Hosted


تایپ یک مستقیما روی سخت افزار اجرا میشه و نیازی به سیستم عامل واسط نداره به همین علت بهینه تر هم هست.

از نمونه های هایپروایزر تایپ یک میشه به موارد زیر اشاره کرد:

- VMware ESXI
- MicroSoft Hyper-V Server
- KVM (kernel-based Virtual Machine)
- ...

هایپروایزر تایپ دو بر روی یه سیستم عامل اجرا میشه مثل هر نرم افزار دیگه ای نصب میشه. عموما ستاپ کردنش راحت تره. بخاطر اینکه مستقیم با سخت افزار در ارتباط نیست یه سربار ارتباط با سیستم عامل همیشه وجود داره.

مثال هاش میشه موارد زیر:

- oracle Virtualbox
- VMware workstation
- Parallels Desktop
- ...

![[type-1-vs-type-2-hypervisors.webp]]



## هایپروایزر چه کارایی انجام میده

1. تقسیم منابع 
	- منابعی مثل رم و cpu و حافظه و پهنای باند رو به زبان ساده مدیریت و تقسیم میکنه بین ماشین های مجازی
	- هایپروایزر ها دو روش برای تقسیم مموری بین ماشین ها دارند.
		- بادکنکی یا ballooning 
			- در این روش هایپروایزر بالون درایوری در هر ماشین نصب می کند و در زمان های مختلف به این برنامه دستور می دهد که مموری کم یا بیشتری مصرف کند مثلا اگر مموری کم باشد به بالون دستور بیشتر مصرف مموری در ماشین می اید ماشین فکر میکند که این مموری در دست بالون است اما مثلا بعد از اتمام نیاز مجدد برنامه بالون مموری را ازاد میکند و در درسترس ماشین قرار میگیرد.
			- این تکنیک بیشتر برای منعطف بودن میزان حافظه و مدیریت هایپروایزر بین ماشین ها هستش
		- تخصیص بیش از ظرفیت واقعی حافظه Memory Overcommitment
		- مثلا اگر 16 گیگ رم در دسترس داریم واقعا اما 20 گیگ به کل ماشین ها بدهیم از حد واقعی بیشتر بدهیم
	- هایپروایزر برای تقسیم حافظه میتواند از روش تأمین فضای ذخیره‌سازی پویا (Thin Provisioning) استفاده کند.
		- حافظه تنها زمانی اختصاص پیدا میکند که ماشین واقعا از آن استفاده کند.
2. مدیریت ماشین های مجازی
	1.  درواقع به بیان روشن این مدیریت از زمان ساخت تا اجرا و نگهداری ماشین هستش درواقع گرفتن اسنپ شات یا ریستور یا کلون یا مهاجرت یا حذف ماشین رو شامل میشه. 
3. بهینه سازی عملکرد
	1. با مدیریت یا تغییر این تخصیص منابع هایپروایزر میتونه سیستم رو به سمتی ببره که بهترین عملکرد رو داشته باشه.